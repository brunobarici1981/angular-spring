<form [formGroup]="form" (ngSubmit)="salvar()">
  <mat-form-field appearance="outline">
    <mat-label>Nome</mat-label>
    <input matInput formControlName="nome" required>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Descrição</mat-label>
    <input matInput formControlName="descricao" required>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Preço</mat-label>
    <input matInput formControlName="preco" type="number" required>
  </mat-form-field>

  <button mat-raised-button color="primary" type="submit">
    {{ editandoId ? 'Atualizar' : 'Cadastrar' }}
  </button>
  <button mat-button type="button" (click)="resetarFormulario()">Limpar</button>
</form>

<hr>

<table mat-table [dataSource]="produtos" class="mat-elevation-z8" style="width: 100%;">

  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef>ID</th>
    <td mat-cell *matCellDef="let produto">{{produto.id}}</td>
  </ng-container>

  <ng-container matColumnDef="nome">
    <th mat-header-cell *matHeaderCellDef>Nome</th>
    <td mat-cell *matCellDef="let produto">{{produto.nome}}</td>
  </ng-container>

  <ng-container matColumnDef="descricao">
    <th mat-header-cell *matHeaderCellDef>Descrição</th>
    <td mat-cell *matCellDef="let produto">{{produto.descricao}}</td>
  </ng-container>

  <ng-container matColumnDef="preco">
    <th mat-header-cell *matHeaderCellDef>Preço</th>
    <td mat-cell *matCellDef="let produto">R$ {{produto.preco}}</td>
  </ng-container>

  <ng-container matColumnDef="acoes">
    <th mat-header-cell *matHeaderCellDef>Ações</th>
    <td mat-cell *matCellDef="let produto">
      <button mat-button color="accent" (click)="editar(produto)">Editar</button>
      <button mat-button color="warn" (click)="deletar(produto.id!)">Excluir</button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
